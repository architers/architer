<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="io.github.architers.syscenter.user.dao.SysUserDao">
    <select id="getUsersByPage" resultType="io.github.architers.syscenter.user.domain.vo.SysUserVO">
        select
            <include refid="common.dynamicColumns.select"/>
        from sys_user
        <where>
<!--            <if test="username!=null">-->
<!--                and user_name = #{username}-->
<!--            </if>-->
<!--            <if test="userCaption!=null">-->
<!--                and user_caption like contract('%', #{userCaption},'%')-->
<!--            </if>-->
<!--            <if test="status!=null">-->
<!--                and status = #{status}-->
<!--            </if>-->
            and deleted =0
        </where>

    </select>
    <select id="countByUsername" resultType="java.lang.Integer"
            parameterType="java.lang.String">
        select count(1)
        from sys_user
        where username = #{username}
          and deleted = 0
    </select>
    <select id="selectByUserName" resultType="io.github.architers.syscenter.user.domain.vo.SysUserVO"
            parameterType="java.lang.String">
        select user_name, user_caption, status, create_by, update_by, create_time, update_time
        from sys_user
        where user_name = #{userName}
          and deleted = 0
    </select>


</mapper>